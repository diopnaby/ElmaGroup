{% extends 'admin_panel/base.html' %}

{% block admin_content %}
<h2>{{ 'Ajouter' if not company else 'Modifier' }} une entreprise accompagn√©e</h2>
<form method="post" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="name" class="form-label">Nom de l'entreprise</label>
        <input type="text" class="form-control" id="name" name="name" value="{{ company.name if company else '' }}" required>
    </div>
    <div class="mb-3">
        <label for="logo" class="form-label">Logo (URL ou upload)</label>
        <input type="text" class="form-control mb-2" id="logo" name="logo" value="{{ company.logo if company else '' }}">
        <input type="file" class="form-control" id="logo_file" name="logo_file">
        {% if company and company.logo %}
        <img src="{{ company.logo }}" alt="Logo" style="height:40px;max-width:80px;object-fit:contain;" class="mt-2">
        {% endif %}
    </div>
    <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea class="form-control" id="description" name="description" rows="3">{{ company.description if company else '' }}</textarea>
    </div>
    <div class="mb-3">
        <label for="website" class="form-label">Site web</label>
        <input type="url" class="form-control" id="website" name="website" value="{{ company.website if company else '' }}">
    </div>
    <div class="mb-3">
        <label for="date_accompanied" class="form-label">Date d'accompagnement</label>
        <input type="date" class="form-control" id="date_accompanied" name="date_accompanied" value="{{ company.date_accompanied.strftime('%Y-%m-%d') if company and company.date_accompanied else '' }}">
    </div>
    <button type="submit" class="btn btn-success">Enregistrer</button>
    <a href="{{ url_for('admin_panel.communication_companies') }}" class="btn btn-secondary">Annuler</a>
</form>
{% endblock %}
